package {{invokerPackage}};

import java.time.format.DateTimeFormatter;

public class SQLHelper {

    public static final DateTimeFormatter dtf = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");

    public static final String DROP_SCHEMA = "DROP SCHEMA IF EXISTS {{artifactId}}";

    public static final String CRETA_SCHEMA_UTF8 = "CREATE SCHEMA IF NOT EXISTS {{artifactId}} CHARACTER SET utf8 COLLATE utf8_general_ci";

    public static final String CRETA_SCHEMA_UTF8_MB4 = "CREATE SCHEMA IF NOT EXISTS {{artifactId}} CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci";

    public static final String CHECK_SQL_QUERY = "SELECT 1";

{{#models}}
    {{#model}}
    //############# START {{classname}} #############

    public static final String {{classname}}_SQL_createTable ="CREATE TABLE IF NOT EXISTS {{artifactId}}.{{jdbcTablePrefix}}{{model.classname}}({{#allVars}} {{name}} {{#isString}} VARCHAR(255) {{/isString}}{{#isInteger}} INTEGER {{/isInteger}}{{#isLong}} BIGINT {{/isLong}}{{#isFloat}} REAL {{/isFloat}}{{#isDouble}} FLOAT {{/isDouble}}{{#isByteArray}} BINARY {{/isByteArray}}{{#isBinary}} BLOB {{/isBinary}}{{#isFile}} CLOB {{/isFile}}{{#isBoolean}} BIT {{/isBoolean}}{{#isDate}} DATE DEFAULT GETDATE(){{/isDate}}{{#isDateTime}} TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP {{/isDateTime}}{{#vendorExtensions}}{{#identity}} NOT NULL AUTO_INCREMENT PRIMARY KEY {{/identity}}{{/vendorExtensions}} {{#hasMore}},{{/hasMore}}{{/allVars}} )";

    public static final String {{classname}}_SQL_dropTable ="DROP TABLE IF EXISTS {{artifactId}}.{{jdbcTablePrefix}}{{model.classname}}";

    {{#allVars}}
    public static final String {{classname}}_SQL_findBy{{nameInCamelCase}} = "SELECT * FROM {{jdbcTablePrefix}}{{classname}} WHERE {{name}} = ?";

    public static final String {{classname}}_SQL_deleteBy{{nameInCamelCase}} = "DELETE FROM {{jdbcTablePrefix}}{{classname}} WHERE {{name}} = ?";

    public static final String {{classname}}_SQL_updateBy{{nameInCamelCase}} = "UPDATE {{jdbcTablePrefix}}{{classname}} SET {{#allVars}}{{^isReadOnly}} {{name}} = ? {{/isReadOnly}}{{/allVars}} WHERE {{name}} = ?";

    {{/allVars}}
    public static final String {{classname}}_SQL_insert{{nameInCamelCase}} = "INSERT INTO {{jdbcTablePrefix}}{{classname}} ({{#allVars}}{{^isReadOnly}} {{name}} {{#hasMoreNonReadOnly}},{{/hasMoreNonReadOnly}}{{/isReadOnly}}{{/allVars}}) VALUES ({{#allVars}}{{^isReadOnly}} ? {{#hasMoreNonReadOnly}},{{/hasMoreNonReadOnly}}{{/isReadOnly}}{{/allVars}})";

    //############# END {{classname}} #############

    {{/model}}
{{/models}}
}